define("local_organization/departments",["exports","core/notification","core/ajax","core/str"],(function(_exports,_notification,_ajax,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_ajax=_interopRequireDefault(_ajax);_exports.init=()=>{document.querySelectorAll(".btn-local-organization-delete-department").forEach((button=>{button.addEventListener("click",(function(){var id=this.getAttribute("data-id"),row=this.closest("tr"),delete_string=(0,_str.get_string)("delete","local_organization"),delete_unit=(0,_str.get_string)("delete_department","local_organization"),cancel=(0,_str.get_string)("cancel","local_organization"),could_not_delete_unit=(0,_str.get_string)("could_not_delete_department","local_organization");_notification.default.confirm(delete_string,delete_unit,delete_string,cancel,(function(){_ajax.default.call([{methodname:"organization_department_delete",args:{id:id}}])[0].done((function(){row.remove()})).fail((function(){_notification.default.alert(could_not_delete_unit)}))}))}))}))}}));

//# sourceMappingURL=departments.min.js.map